# Builds the module for tensorRT.
!include tensorRT.yaml
!include /opt/rcic/include/rcic-module.yaml
---
- package: tensorRT module 
  pkgname: "{{ name }}_{{version}}_python{{pyversion}}-module"
  category: AI
  module:
    prepend_path:
      - PATH "{{ pkg_defaults.app_path }}/{{ name }}/{{ version }}/bin"
      - LD_LIBRARY_PATH "{{ pkg_defaults.app_path }}/{{ name }}/{{ version }}/lib"
      - PYTHONPATH "{{ pkg_defaults.app_path }}/{{ name }}/{{ version }}/lib/python{{ pyfamily }}/site-packages"
    prereq: 
      - python/{{ pyversion }}
      - cuda
  requires:
    - "{{ name }}_{{ version }}_python{{pyversion}}"
    - rcic-module-support
