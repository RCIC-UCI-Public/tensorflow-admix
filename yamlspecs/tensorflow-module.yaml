# Builds the module for tensorflow
!include tensorflow.yaml
!include /opt/rcic/include/rcic-module.yaml
---
- package: tensorflow module
  pkgname: "{{name}}_{{version}}_python{{pyversion}}-module"
  category: AI-LEARNING
  module:
    prepend_path:
      - PATH "{{pkg_defaults.app_path}}/{{name}}/{{version}}/bin"
      - LD_LIBRARY_PATH "{{pkg_defaults.app_path}}/{{name}}/{{version}}/lib"
    prereq:
      - python/{{pyversion}}
      - cuda/{{cudaversion}}
  requires:
    - "{{name}}_{{version}}_python{{pyversion}}"
    - rcic-module-support
